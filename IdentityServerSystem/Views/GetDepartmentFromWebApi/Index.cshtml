@using Microsoft.AspNetCore.Authentication

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<form asp-action="GetDepartmentMessageFromHumanResourceSystem" method="get">
    <button class="btn btn-primary" type="submit">从HumanResourceSystem获取科室信息</button>
</form>
<a asp-action="GetUserInfoFromHumanResourceSystem" asp-controller="GetUserInfoFromWebApi" class="btn btn-primary">从人力资源系统中获取人员信息</a>

<table>
    <tr>
        <td>Type</td>
        <td>Value</td>
    </tr>
    @foreach (var claim in User.Claims)
    {
        <tr>
            <td>@claim.Type</td>
            <td>@claim.Value</td>
        </tr>

    }

    <tr>
        <td>access token</td>
        <td>@await ViewContext.HttpContext.Authentication.GetTokenAsync("access_token")</td>

    </tr>
    <tr>
        <td>refresh token</td>
        <td>@await ViewContext.HttpContext.Authentication.GetTokenAsync("refresh_token")</td>
    </tr>
</table>


